<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT-2 Chatbot | Client-Side AI</title>
    <meta name="description" content="GPT-2 chatbot running entirely in your browser using Transformers.js">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <!-- Sidebar for conversation list -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2 data-i18n="conversations">–†–æ–∑–º–æ–≤–∏</h2>
            <button id="sidebarToggle" class="btn-icon" aria-label="Toggle sidebar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>

        <div class="conversation-list" id="conversationList">
            <!-- Conversations will be dynamically inserted here -->
        </div>

        <div class="sidebar-footer">
            <button id="newChatBtn" class="btn btn-primary w-full">
                <span data-i18n="new_chat">–ù–æ–≤–∏–π —á–∞—Ç</span>
            </button>
        </div>
    </aside>

    <!-- Main content area -->
    <main class="main-content">
        <!-- Header with controls -->
        <header class="chat-header">
            <div class="header-left">
                <button id="mobileSidebarToggle" class="btn-icon mobile-only" aria-label="Open sidebar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <h1 data-i18n="app_title">GPT-2 –ß–∞—Ç-–±–æ—Ç</h1>
            </div>

            <div class="header-actions">
                <!-- Language toggle -->
                <button id="languageToggle" class="btn btn-icon" title="Switch language">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 2C5.58 2 2 5.58 2 10s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.25 14.15C13.24 17.27 11.68 18 10 18s-3.24-.73-4.25-1.85c1.14-1.16 2.68-1.88 4.25-1.88s3.11.72 4.25 1.88zM10 12c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
                    </svg>
                    <span id="currentLang" class="lang-text">EN</span>
                </button>

                <!-- Upload conversation -->
                <button id="uploadBtn" class="btn btn-secondary" data-i18n-title="upload_conversation">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 0L4 4h2.5v6h3V4H12L8 0z"/>
                        <path d="M0 14h16v2H0z"/>
                    </svg>
                    <span data-i18n="upload">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</span>
                </button>
                <input type="file" id="fileInput" accept=".json" style="display: none">

                <!-- Status indicator -->
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text" data-i18n="status_loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>
                </div>
            </div>
        </header>

        <!-- Progress bar for model loading -->
        <div id="loadingProgress" class="loading-progress" style="display: none;">
            <div class="progress-bar">
                <div class="loading-bar" id="progressFill"></div>
            </div>
            <div class="progress-text" id="loadingStatus">Loading model...</div>
        </div>

        <!-- Chat messages area -->
        <div class="chat-container">
            <div class="chat-messages" id="messagesContainer">
                <div class="welcome-message">
                    <h2 data-i18n="welcome_title">–í—ñ—Ç–∞—î–º–æ –≤ GPT-2 —á–∞—Ç-–±–æ—Ç—ñ!</h2>
                    <p data-i18n="welcome_message">–ü–æ—á–Ω—ñ—Ç—å —Ä–æ–∑–º–æ–≤—É –Ω–∏–∂—á–µ. –ú–æ–¥–µ–ª—å –ø—Ä–∞—Ü—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.</p>
                    <p class="welcome-note" data-i18n="welcome_note">
                        –ü–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 10-30 —Å–µ–∫—É–Ω–¥. –ù–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø—É—Å–∫–∏ –±—É–¥—É—Ç—å –º–∏—Ç—Ç—î–≤–∏–º–∏.
                    </p>
                </div>
            </div>

            <!-- Chat input area -->
            <div class="chat-input-container">
                <form id="chatForm">
                    <textarea
                        id="messageInput"
                        data-i18n-placeholder="message_placeholder"
                        placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..."
                        rows="3"
                        maxlength="2000"
                    ></textarea>
                    <button type="submit" class="btn btn-primary" id="sendBtn">
                        <span data-i18n="send">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</span>
                    </button>
                </form>
                <div class="input-info">
                    <span id="charCount">0 —Å–∏–º–≤–æ–ª—ñ–≤</span>
                </div>
            </div>
        </div>

        <!-- Settings panel -->
        <div class="settings-panel">
            <div class="settings-header">
                <h3 data-i18n="settings">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ</h3>
                <div class="settings-actions">
                    <button id="downloadJsonBtn" class="btn btn-sm" data-i18n-title="download_json">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 12L4 8h2.5V2h3v6H12L8 12z"/>
                            <path d="M0 14h16v2H0z"/>
                        </svg>
                        JSON
                    </button>
                    <button id="downloadTxtBtn" class="btn btn-sm" data-i18n-title="download_txt">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 12L4 8h2.5V2h3v6H12L8 12z"/>
                            <path d="M0 14h16v2H0z"/>
                        </svg>
                        TXT
                    </button>
                </div>
            </div>

            <div class="setting-item">
                <label for="modelSelector">
                    <span data-i18n="model">–ú–æ–¥–µ–ª—å</span>
                </label>
                <select id="modelSelector" class="model-select">
                    <optgroup label="‚ö° Ultra Fast (Recommended for Low-End Devices)">
                        <option value="Xenova/pythia-14m">Pythia 14M (~60MB) - Fastest</option>
                        <option value="Xenova/llama2.c-stories15M">Llama2 Stories 15M (~30MB) - Ultra Light</option>
                        <option value="Xenova/distilgpt2" selected>‚≠ê DistilGPT-2 (82M, ~150MB) - DEFAULT</option>
                        <option value="Xenova/llama2.c-stories110M">Llama2 Stories 110M (~200MB)</option>
                    </optgroup>

                    <optgroup label="üí¨ Chat Optimized (Best for Conversations)">
                        <option value="Xenova/Qwen1.5-0.5B-Chat">Qwen 1.5 Chat (500M, ~300MB)</option>
                        <option value="Xenova/TinyLlama-1.1B-Chat-v1.0">TinyLlama Chat (1.1B, ~650MB)</option>
                        <option value="Xenova/Qwen1.5-1.8B-Chat">Qwen 1.8B Chat (1.8B, ~1.2GB)</option>
                    </optgroup>

                    <optgroup label="üéì Instruction-Tuned (LaMini Family)">
                        <option value="Xenova/LaMini-GPT-124M">LaMini GPT 124M (~300MB)</option>
                        <option value="Xenova/LaMini-Neo-125M">LaMini Neo 125M (~300MB)</option>
                        <option value="Xenova/LaMini-Cerebras-256M">LaMini Cerebras 256M (~500MB)</option>
                        <option value="Xenova/LaMini-GPT-774M">LaMini GPT 774M (~800MB)</option>
                    </optgroup>

                    <optgroup label="üéØ General Purpose (GPT & Neo Family)">
                        <option value="Xenova/gpt-neo-125M">GPT-Neo 125M (~300MB)</option>
                        <option value="Xenova/gpt2">GPT-2 124M (~250MB) - Classic OpenAI</option>
                        <option value="Xenova/llama-160m">Llama 160M (~350MB)</option>
                        <option value="Xenova/stablelm-2-zephyr-1_6b">StableLM Zephyr (1.6B, ~1GB)</option>
                    </optgroup>

                    <optgroup label="üíª Code Generation Specialists">
                        <option value="Xenova/codegen-350M-mono">CodeGen Mono (350M, ~350MB) - Python</option>
                        <option value="Xenova/tiny_starcoder_py">Tiny StarCoder (~400MB) - Python</option>
                        <option value="Xenova/WizardCoder-1B-V1.0">WizardCoder 1B (~1GB) - Advanced</option>
                        <option value="Xenova/deepseek-coder-1.3b-instruct">DeepSeek Coder 1.3B (~1.2GB)</option>
                    </optgroup>

                    <optgroup label="üèõÔ∏è Meta OPT Models">
                        <option value="Xenova/opt-125m">OPT 125M (~300MB)</option>
                        <option value="Xenova/opt-350m">OPT 350M (~500MB)</option>
                    </optgroup>

                    <optgroup label="üî¨ Research Models (Pythia Family)">
                        <option value="Xenova/pythia-410m">Pythia 410M (~700MB)</option>
                    </optgroup>

                    <optgroup label="üåç Multilingual & Specialized">
                        <option value="Xenova/bloomz-560m">BLOOMZ 560M (~600MB) - Multilingual</option>
                        <option value="Xenova/bloom-560m">BLOOM 560M (~600MB) - Multilingual Base</option>
                        <option value="Xenova/phi-1_5_dev">Phi 1.5 Dev (1.3B, ~1.2GB)</option>
                        <option value="Xenova/pygmalion-350m">Pygmalion 350M (~500MB) - Roleplay</option>
                        <option value="Xenova/gpt2-large-conversational">GPT-2 Large Conv (~800MB)</option>
                    </optgroup>

                    <optgroup label="üåê Language-Specific Models">
                        <option value="Xenova/slovak-gpt-j-405M">Slovak GPT-J 405M (~600MB)</option>
                        <option value="Xenova/gpt-neo-romanian-125m">Romanian GPT-Neo 125M (~300MB)</option>
                        <option value="Xenova/kogpt-j-350m">Korean GPT-J 350M (~500MB)</option>
                        <option value="Xenova/tamillama_tiny_30m">Tamil Llama 30M (~100MB)</option>
                        <option value="Xenova/J-350M">Japanese J-350M (~500MB)</option>
                    </optgroup>

                    <optgroup label="üìö Extended Story Models">
                        <option value="Xenova/llama2.c-stories42M">Llama2 Stories 42M (~80MB)</option>
                        <option value="Xenova/llama-68m">Llama 68M (~150MB)</option>
                    </optgroup>

                    <optgroup label="üî¨ Extended Research (Pythia)">
                        <option value="Xenova/pythia-31m">Pythia 31M (~100MB)</option>
                        <option value="Xenova/pythia-70m">Pythia 70M (~200MB)</option>
                        <option value="Xenova/pythia-70m-deduped">Pythia 70M Deduped (~200MB)</option>
                        <option value="Xenova/pythia-160m">Pythia 160M (~400MB)</option>
                        <option value="Xenova/pythia-160m-deduped">Pythia 160M Deduped (~400MB)</option>
                        <option value="Xenova/pythia-410m-deduped">Pythia 410M Deduped (~700MB)</option>
                    </optgroup>

                    <optgroup label="üíª Extended Code Models">
                        <option value="Xenova/codegen-350M-multi">CodeGen Multi (~350MB) - Multilang</option>
                        <option value="Xenova/codegen-350M-nl">CodeGen NL (~350MB) - Natural Language</option>
                        <option value="Xenova/starcoderbase-1b">StarCoder Base 1B (~1GB)</option>
                        <option value="Xenova/starcoderbase-1b-sft">StarCoder SFT 1B (~1GB)</option>
                        <option value="Xenova/deepseek-coder-1.3b-base">DeepSeek Coder Base 1.3B (~1.2GB)</option>
                    </optgroup>

                    <optgroup label="üéì Extended LaMini Family">
                        <option value="Xenova/LaMini-Cerebras-111M">LaMini Cerebras 111M (~250MB)</option>
                        <option value="Xenova/LaMini-Cerebras-590M">LaMini Cerebras 590M (~750MB)</option>
                    </optgroup>

                    <optgroup label="ü¶Ö Falcon Family">
                        <option value="Xenova/falcon-rw-1b">Falcon RW 1B (~1GB)</option>
                        <option value="Xenova/tiny-random-falcon-7b">Tiny Falcon Test (~50MB)</option>
                        <option value="Xenova/really-tiny-falcon-testing">Really Tiny Falcon (~50MB)</option>
                    </optgroup>

                    <optgroup label="ü¶ô Extended Llama Family">
                        <option value="Xenova/TinyLLama-v0">TinyLlama v0 (~650MB)</option>
                        <option value="Xenova/LiteLlama-460M-1T">LiteLlama 460M (~600MB)</option>
                    </optgroup>

                    <optgroup label="üîß Extended StableLM">
                        <option value="Xenova/stablelm-2-1_6b">StableLM 2 1.6B (~1GB) - Base</option>
                        <option value="Xenova/tiny-random-StableLmForCausalLM">Tiny StableLM Test (~50MB)</option>
                    </optgroup>

                    <optgroup label="‚ú® Extended Qwen Family">
                        <option value="Xenova/Qwen1.5-0.5B">Qwen 1.5 0.5B Base (~300MB)</option>
                        <option value="Xenova/Qwen1.5-1.8B">Qwen 1.5 1.8B Base (~1.2GB)</option>
                    </optgroup>

                    <optgroup label="üß™ Testing & Development Models">
                        <option value="Xenova/tiny-random-mistral">Tiny Mistral Test (~50MB)</option>
                        <option value="Xenova/tiny-random-PhiForCausalLM">Tiny Phi Test (~50MB)</option>
                        <option value="Xenova/tiny-random-Starcoder2ForCausalLM">Tiny StarCoder2 Test (~50MB)</option>
                        <option value="Xenova/ipt-350m">IPT 350M (~500MB)</option>
                        <option value="Xenova/dlite-v2-774m">DLite v2 774M (~800MB)</option>
                    </optgroup>
                </select>
                <div class="model-info" style="font-size: 11px; color: var(--secondary-color); margin-top: 5px;">
                    All models are verified to work in your browser. Choose based on your device performance.
                </div>
            </div>

            <div class="setting-item">
                <label for="temperature">
                    Temperature: <span id="temperatureValue">0.7</span>
                </label>
                <input type="range" id="temperature" min="0.1" max="1.0" step="0.1" value="0.7">
            </div>

            <div class="setting-item">
                <label for="maxLength">
                    Max Length: <span id="maxLengthValue">100</span>
                </label>
                <input type="range" id="maxLength" min="20" max="200" step="10" value="100">
            </div>

            <div class="setting-item">
                <label for="topK">
                    Top K: <span id="topKValue">50</span>
                </label>
                <input type="range" id="topK" min="1" max="100" step="1" value="50">
            </div>

            <div class="setting-item">
                <label for="topP">
                    Top P: <span id="topPValue">0.9</span>
                </label>
                <input type="range" id="topP" min="0.1" max="1.0" step="0.05" value="0.9">
            </div>

            <div class="setting-item">
                <label for="repetitionPenalty">
                    Repetition Penalty: <span id="repetitionPenaltyValue">1.2</span>
                </label>
                <input type="range" id="repetitionPenalty" min="1.0" max="2.0" step="0.1" value="1.2">
            </div>
        </div>
    </main>

    <!-- Load app as ES6 module -->
    <script type="module" src="js/app.js?v=1733263200"></script>
</body>
</html>
